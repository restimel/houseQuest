webpackJsonp([1],{"3aVx":function(e,t){},"76lq":function(e,t){},"9aMW":function(e,t){},BLiV:function(e,t){},Bfz0:function(e,t){},CsgH:function(e,t){},DNJU:function(e,t){},Eqvh:function(e,t){},GG9t:function(e,t){},Khtm:function(e,t){},M4Ec:function(e,t){},MAKD:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"menu"},[t("router-link",{staticClass:"link",attrs:{to:"house"}},[this._v("\n        House\n    ")]),this._v(" "),t("router-link",{staticClass:"link",attrs:{to:"village"}},[this._v("\n        Village\n    ")]),this._v(" "),t("router-link",{staticClass:"link",attrs:{to:"composition"}},[this._v("\n        Composition\n    ")]),this._v(" "),t("router-link",{staticClass:"link",attrs:{to:"about"}},[this._v("\n        About\n    ")])],1)},staticRenderFns:[]};var a=n("VU/8")({name:"Menu"},i,!1,function(e){n("pq8s")},"data-v-57c9050a",null).exports,r=n("Xxa5"),o=n.n(r),u=n("exGp"),l=n.n(u),c=n("BO1k"),h=n.n(c),d=n("woOf"),f=n.n(d),v=n("//Fk"),p=n.n(v),m={};!function(){var e,t,n,s=2,i="houseMaze",a=[{name:"village",keyPath:"name",addedInVersion:1,indexes:[{name:"name",keyPath:"name",addedInVersion:1,unique:!0,multiEntry:!1}]},{name:"house",keyPath:"name",addedInVersion:1,indexes:[{name:"name",keyPath:"name",addedInVersion:1,unique:!0,multiEntry:!1}]},{name:"configuration",keyPath:"type",addedInVersion:2,indexes:[{name:"type",keyPath:"type",addedInVersion:2,unique:!0,multiEntry:!1}]}],r=null,u=(e={},t=new p.a(function(t,n){e.success=t,e.error=n}),f()(t,e));function c(e){r=e,m.$DB=e}function d(e){c(e.target.result);var t=e.oldVersion,n=!0,s=!1,i=void 0;try{for(var o,u=h()(a);!(n=(o=u.next()).done);n=!0){var l=o.value,d=void 0;l.addedInVersion>t&&(d=r.createObjectStore(l.name,{keyPath:l.keyPath}));var f=!0,v=!1,p=void 0;try{for(var m,g=h()(l.indexes);!(f=(m=g.next()).done);f=!0){var _=m.value;if(_.addedInVersion>t){if(!d)d=r.transaction([l.name],"readonly").objectStore(l.name);d.createIndex("index_"+_.name,_.keyPath,{unique:!!_.unique,multiEntry:!!_.multiEntry})}}}catch(e){v=!0,p=e}finally{try{!f&&g.return&&g.return()}finally{if(v)throw p}}}}catch(e){s=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(s)throw i}}}function v(e){console.warn("indexedDB version has change in a newer tab. This page should be reloaded."),u.error(e)}function g(e){r||c(e.target.result),u.success(r),r.onversionchange=v}m.$DBReady=u,(n=self.indexedDB.open(i,s)).onerror=function(e){console.error(e),u.error(e)},n.onupgradeneeded=d,n.onsuccess=g,n.onblocked=function(e){console.log("is running in another tab. Its version is deprecated and must be refresh"),u.error(r)};var _=function(e){return function(t){return e(t.target.error)}},y=function(e){var t=e.name,n=e.keyPath,s={getAll:function(e){var s,i=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return void 0!==e&&null!==e||(e=n),new p.a((s=l()(o.a.mark(function n(s,r){var l,c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u;case 2:l=n.sent,(c=l.transaction([t],"readonly").objectStore(t).index("index_"+e).getAll()).onsuccess=function(e){s(a?e.target.result:e.target.result.reverse())},c.onerror=_(r);case 6:case"end":return n.stop()}},n,i)})),function(e,t){return s.apply(this,arguments)}))},get:function(){var e,n=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new p.a((e=l()(o.a.mark(function e(i,a){var r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:r=e.sent,(l=r.transaction([t],"readonly").objectStore(t).get(s)).onsuccess=function(e){i(e.target.result)},l.onerror=_(a);case 6:case"end":return e.stop()}},e,n)})),function(t,n){return e.apply(this,arguments)}))},has:function(){var e,n=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new p.a((e=l()(o.a.mark(function e(i,a){var r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:r=e.sent,(l=r.transaction([t],"readonly").objectStore(t).get(s)).onsuccess=function(e){i(void 0!==e.target.result)},l.onerror=_(a);case 6:case"end":return e.stop()}},e,n)})),function(t,n){return e.apply(this,arguments)}))},delete:function(e){var n,s=this;return new p.a((n=l()(o.a.mark(function n(i,a){var r,l;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u;case 2:r=n.sent,(l=r.transaction([t],"readwrite").objectStore(t).delete(e)).onsuccess=function(e){i(e.target.result)},l.onerror=_(a);case 6:case"end":return n.stop()}},n,s)})),function(e,t){return n.apply(this,arguments)}))},set:function(e,s){var i,a=this;return void 0===s&&(e=(s=e)[n]),new p.a((i=l()(o.a.mark(function n(i,r){var l,c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return void 0!==e&&null!==e||(console.warn(e,s),r('id "'+e+'" is incorrect')),n.next=3,a.has(e);case 3:return n.sent||(s.createDate=Date.now()),s.updateDate=Date.now(),n.next=8,u;case 8:l=n.sent,(c=l.transaction([t],"readwrite").objectStore(t).put(s)).onsuccess=function(e){i(e.target.result)},c.onerror=_(r);case 12:case"end":return n.stop()}},n,a)})),function(e,t){return i.apply(this,arguments)}))}};m[e.name]=s},w=!0,b=!1,z=void 0;try{for(var k,x=h()(a);!(w=(k=x.next()).done);w=!0){y(k.value)}}catch(e){b=!0,z=e}finally{try{!w&&x.return&&x.return()}finally{if(b)throw z}}}();var g=m,_=new(s.a.component("Configuration",{data:function(){return{theme:"default",villageName:"",houseName:"",timeByMaze:15e3,defaultInfo:null,infos:[],isLoaded:g.configuration.getAll().then(this.load.bind(this))}},methods:{load:function(e){var t=this;e.forEach(function(e){t[e.type]=e.data||e.weight})},updater:function(e){g.configuration.set(e,{type:e,data:this[e]})}},watch:{theme:function(){this.updater("theme")},villageName:function(){this.updater("villageName")},houseName:function(){this.updater("houseName")},timeByMaze:function(){this.updater("timeByMaze")},infos:function(){this.updater("infos")},defaultInfo:function(){this.updater("defaultInfo")}}})),y={name:"App",data:function(){return{conf:_}},components:{Menu:a}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:this.conf.theme,attrs:{id:"app"}},[t("Menu"),this._v(" "),t("router-view",{staticClass:"page-view"})],1)},staticRenderFns:[]};var b=n("VU/8")(y,w,!1,function(e){n("RF7r"),n("GG9t"),n("qRjg")},null,null).exports,z=n("d7EF"),k=n.n(z),x=n("W3Iv"),C=n.n(x),P=(s.a.directive("keys",{bind:function(e,t){t.callback=t.def.keydown(e,t),window.addEventListener("keydown",t.callback)},unbind:function(e,t){window.removeEventListener("keydown",t.callback)},keydown:function(e,t){var n=t.value,s=t.arg,i=C()(t.modifiers).filter(function(e){var t=k()(e,2);t[0];return t[1]}),a=["always","allfocus","allFocus"].includes(s);return function(t){var s=t.keyCode,r=t.key,o=r&&r.toLowerCase();if(!a){var u=document.querySelector(":focus");if(u&&u!==e)return}i.length&&i.every(function(e){var t=k()(e,1)[0];return+t!==s&&t!==o})||n(t)}}}),n("/ocq")),D={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    Welcome to the house quest manipulator!\n")])},staticRenderFns:[]};var U=n("VU/8")({name:"Main"},D,!1,function(e){n("o3J3")},"data-v-2df32b00",null).exports,R=n("lHA8"),H=n.n(R),N=n("ifoU"),I=n.n(N),A=n("yNWv"),V=new(n.n(A).a),M=0,S=new I.a,W=new I.a;V.onmessage=function(e){var t=e.data,n=t.id,s=t.error,i=t.data;if(t.finished||!W.has(n)){var a=s?"reject":"resolve",r=S.get(n);r?(r[a](i),setTimeout(function(){W.delete(n),S.delete(n)},1e3)):S.delete(n)}else W.get(n)(i)};var E=function(e,t,n){var s=M++,i={},a=new p.a(function(e,t){i.resolve=e,i.reject=t});return S.set(s,i),n&&W.set(s,n),V.postMessage({action:e,id:s,data:t}),a},L={village:{sizeX:3,sizeY:3,starts:["-1, 5","-1, 6"],ends:["12, 5","12, 6"]},house:{sizeX:4,sizeY:4}},O=L.house,F=s.a.component("House",{props:{synchronized:{type:Boolean,default:!1}},data:function(){return{name:"",maze:[],updateDate:0,createDate:0,orientation:"UP",conf:_}},methods:{initMaze:function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Array(O.sizeX),n=0;n<O.sizeX;n++){for(var s=new Array(O.sizeY),i=0;i<O.sizeY;i++)s[i]={u:e||i>0,d:e||i<O.sizeY-1,l:e||n>0,r:e||n<O.sizeX-1};t[n]=s}this.maze=t},get:function(){var e=l()(o.a.mark(function e(t){var n,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=4;break}return e.next=3,this.conf.isLoaded;case 3:this.conf.houseName&&(t=this.conf.houseName);case 4:if("_empty_"!==t){e.next=8;break}return this.name="",this.initMaze(!0),e.abrupt("return",this);case 8:return e.next=10,g.house.get(t);case 10:return(n=e.sent)||(n={name:t,maze:[],updateDate:0,createDate:0}),this.name=n.name,this.maze=n.maze,this.updateDate=n.updateDate,this.createDate=n.createDate,s||this.sync(),e.abrupt("return",this);case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),save:function(){var e=this,t=g.house.set({name:this.name||"house1",maze:this.maze,updateDate:this.updateDate,createDate:this.createDate});return t.then(function(){return e.sync()}),t},delete:function(){var e=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.village.delete(this.name);case 2:this.name="",this.maze=[],this.sync();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),sync:function(){this.synchronized&&this.name&&"_empty_"!==this.name&&(this.conf.houseName=this.name)},getCell:function(e,t){var n=this._orientationXY(e,t),s=k()(n,2),i=s[0],a=s[1],r=this.maze[i];return r&&r[a]?this._orientationCell(r[a]):{u:!1,d:!1,l:!1,r:!1}},setCell:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this._orientationXY(e,t),i=k()(s,2),a=(i[0],i[1],this.maze[e]);a&&a[t]&&f()(a[t],this._orientationCell(n),"-"+this.orientation)},_orientationXY:function(e,t){switch(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.orientation){case"DOWN":return[O.sizeX-e-1,O.sizeY-t-1];case"LEFT":return[O.sizeX-t-1,e];case"RIGHT":return[t,O.sizeY-e-1];case"UP":default:return[e,t]}},_orientationCell:function(e){var t=void 0,n=void 0,s=void 0,i=void 0;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.orientation){case"DOWN":case"-DOWN":t="d",n="u",s="r",i="l";break;case"LEFT":case"-RIGHT":t="r",n="l",s="u",i="d";break;case"RIGHT":case"-LEFT":t="l",n="r",s="d",i="u";break;case"UP":case"-UP":default:return e}return{u:e[t],d:e[n],l:e[s],r:e[i]}}}}),X=L.village,$=L.house,Y=5,q=s.a.component("Village",{props:{synchronized:{type:Boolean,default:!1},initMaze:{type:Array,required:!1,default:function(){return[]}},withoutAnalyze:{type:Boolean,default:!1}},data:function(){return{name:"",maze:this.initMaze||[],houses:[],infos:this._initInfos(),defaultInfo:this._getInitInfo(!0),updateDate:0,createDate:0,analyzeResult:{},conf:_}},methods:{get:function(){var e=l()(o.a.mark(function e(t){var n,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=4;break}return e.next=3,this.conf.isLoaded;case 3:this.conf.villageName&&(t=this.conf.villageName);case 4:if(t){e.next=7;break}return this.clear(),e.abrupt("return");case 7:if("§¤§infos§"!==t){e.next=10;break}return this.clear(!0),e.abrupt("return");case 10:return this.name=t,this.analyzeResult={},e.next=14,g.village.get(t);case 14:(n=e.sent)||(n={name:t,houses:[],updateDate:0,createDate:0}),this.name=n.name,this.houses=n.houses,this.infos=n.infos||this._initInfos(),this.defaultInfo=n.defaultInfo||this._getInitInfo(!0),this.updateDate=n.updateDate,this.createDate=n.createDate,s||this.sync();case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getList:function(){var e=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.village.getAll();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),save:function(){var e=this,t=g.village.set({name:this.name,maze:this.maze,houses:this.houses,infos:this.infos,defaultInfo:this.defaultInfo,updateDate:this.updateDate,createDate:this.createDate});return t.then(function(){return e.sync()}),t},delete:function(){var e=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.village.delete(this.name);case 2:this.clear(),this.sync(!0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),sync:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.synchronized&&(this.name||e)&&(this.conf.villageName=this.name)},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.name="",this.maze=[],this.houses=[],this.analyzeResult={},e||(this.infos=this._initInfos(),this.defaultInfo=this._getInitInfo(!0));for(var t=X.sizeX*X.sizeY,n=0;n<t;n++)this.houses.push("_empty_§UP")},analyze:function(e){e.shortestPath=new H.a(e.shortestPath),this.analyzeResult=e},_getInitInfo:function(){return{houses:[],orientations:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?["UP"]:[]}},_initInfos:function(){for(var e=X.sizeX*X.sizeY,t=this.infos||new Array(e),n=0;n<e;n++)t[n]=this._getInitInfo();return t},_initMaze:function(){for(var e=X.sizeX*$.sizeX,t=X.sizeY*$.sizeY,n=new Array(e),s=0;s<e;s++){var i=new Array(t);n[s]=i;for(var a=0;a<t;a++)i[a]={u:!0,d:!0,l:!0,r:!0}}this.maze=n},_initValue:function(){var e=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.synchronized&&(this.name||(this.conf.villageName?this.get(this.conf.villageName):this.clear()));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{houses:function(){var e=l()(o.a.mark(function e(){var t,n,s,i,a,r,u,l,c,h,d,f,v,m,g,_,y,w,b,z,x,C=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.houses,n=X.sizeX,s=X.sizeY,i=new Array(n),a=[],this._initMaze(),r=0;r<n;r++)for(i[r]=new Array(s),u=0;u<s;u++)l=new F,i[r][u]=l,c=t[r*n+u],h=(c||"").split("§"),d=k()(h,2),f=d[0],v=d[1],l.orientation=v,a.push(l.get(f));return e.next=9,p.a.all(a);case 9:for(m=n*$.sizeX,g=s*$.sizeY,_=function(e,t){var n=Math.floor(e/$.sizeX),s=e%$.sizeX,a=Math.floor(t/$.sizeY),r=t%$.sizeY,o=i[n];return o&&o[a]?o[a].getCell(s,r):X.starts.includes(e+", "+t)||X.ends.includes(e+", "+t)?{u:!0,d:!0,l:!0,r:!0}:{u:!1,d:!1,l:!1,r:!1}},y=this.maze,w=0;w<m;w++)for(b=0;b<g;b++)z=_(w,b),x={u:z.u&&_(w,b-1).d,d:z.d&&_(w,b+1).u,l:z.l&&_(w-1,b).r,r:z.r&&_(w+1,b).l},y[w][b]=x;this.withoutAnalyze||function e(){Y>0?(Y--,E("analyze",{maze:C.maze,starts:X.starts,ends:X.ends}).then(function(e){Y++,C.analyze(e)})):setTimeout(e,200)}(),this.$emit("maze_change");case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}}),B=L.village,T=L.house,j={UP:"↑",DOWN:"↓",LEFT:"←",RIGHT:"→"},G={name:"VillageView",props:{village:{type:q},readonly:{type:Boolean,default:!1},selected:{type:Object,default:function(){return{}}},result:{type:Object,default:function(){return{}}},display:{type:String,default:"maze",validator:function(e){return["maze","info","mazeInfo"].includes(e)}},changeDisplay:{type:[Boolean,Array],default:!0}},data:function(){return{size:100,starts:B.starts,ends:B.ends,renderId:0,currentDisplay:this.display}},created:function(){var e=this;this.village.$on("maze_change",function(){e.renderId++})},computed:{sizeX:function(){return this.village.maze.length},sizeY:function(){return(this.village.maze[0]||[]).length},width:function(){return this.sizeX*this.size},height:function(){return this.sizeY*this.size},svgWidth:function(){return this.width+2*this.size},svgHeight:function(){return this.height+2*this.size},houseWidth:function(){return T.sizeX*this.size},houseHeight:function(){return T.sizeY*this.size},isMaze:function(){return("maze"===this.currentDisplay||"mazeInfo"===this.currentDisplay)&&this.village.maze[0]},isInfo:function(){return"info"===this.currentDisplay},isDetailed:function(){return"mazeInfo"===this.currentDisplay},changeDisplayValues:function(){var e=this;if(!1===this.changeDisplay)return[];var t=[{id:"maze",label:"Maze"},{id:"mazeInfo",label:"Maze and house names"},{id:"info",label:"House limitation"}];return this.changeDisplay.length>0&&(t=t.filter(function(t){return e.changeDisplay.includes(t.id)})),t}},methods:{cellX:function(e){return e.split(/,\s*/)[0]*this.size},cellY:function(e){return e.split(/,\s*/)[1]*this.size},getHouseX:function(e){return Math.floor(e/B.sizeX)},getHouseY:function(e){return e%B.sizeX},getHouseInfo:function(e){var t=this.village.infos[e]||{};return t.houses&&t.houses.length?1===t.houses.length?'"'+t.houses[0]+'" only':"limited to "+t.houses.length+" houses":"Default selection"},getOrientationInfo:function(e){var t=this.village.infos[e]||{};return t.orientations&&t.orientations.length?t.orientations.map(function(e){return j[e]}).join(" "):"Default orientations"},getHouseDetail:function(e){var t=this.village.houses[e].split("§"),n=k()(t,2),s=n[0],i=n[1];return s+" "+j[i]},transformXYArrow:function(e,t,n){var s=0;switch(n){case"r":case"-l":s=90;break;case"l":case"-r":s=-90;break;case"d":case"-u":s=180;break;case"u":case"-d":s=0}return"translate("+(e=(e+.5)*this.size)+", "+(t=(t+.5)*this.size)+") rotate("+s+")"},transformArrow:function(e,t){var n=this,s=e.split(/,\s*/).map(function(e){return(+e+.5)*n.size}),i=k()(s,2),a=i[0],r=i[1],o=0;return a<0?o=90:r<0?o=180:a>=this.width&&(o=-90),t&&(o+=180),"translate("+a+", "+r+") rotate("+o+")"},selectHouse:function(e,t){this.$emit("selection",e,t)}},watch:{display:function(){this.currentDisplay=this.display}}},K={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"svg-container"},[e.changeDisplayValues.length>1?n("select",{directives:[{name:"model",rawName:"v-model",value:e.currentDisplay,expression:"currentDisplay"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.currentDisplay=t.target.multiple?n:n[0]}}},e._l(e.changeDisplayValues,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n            "+e._s(t.label)+"\n        ")])})):e._e(),e._v(" "),n("svg",{attrs:{width:"98%",height:"98%",viewBox:[-e.size,-e.size,e.svgWidth,e.svgHeight].join(" ")}},[n("defs",[n("path",{staticClass:"arrow",attrs:{id:"arrow",d:"M0,25 v-55 l-20,20 20,-20 20,20"}}),e._v(" "),n("path",{attrs:{id:"wallLeft",d:"M0,0 v100"}}),e._v(" "),n("path",{attrs:{id:"wallUp",d:"M0,0 h100"}}),e._v(" "),n("path",{attrs:{id:"wallRight",d:"M100,0 v100"}}),e._v(" "),n("path",{attrs:{id:"wallDown",d:"M0,100 h100"}})]),e._v(" "),n("g",[n("rect",{staticClass:"villageWall",attrs:{x:"0",y:"0",width:e.width,height:e.height}}),e._v(" "),e._l(e.starts,function(t){return n("g",{key:"start-"+t},[n("rect",{staticClass:"villageStart",attrs:{x:e.cellX(t),y:e.cellY(t),width:e.size,height:e.size}}),e._v(" "),n("use",{staticClass:"outside",attrs:{href:"#arrow",x:"0",y:"0",transform:e.transformArrow(t)}})])}),e._v(" "),e._l(e.ends,function(t){return n("g",{key:"end-"+t},[n("rect",{staticClass:"villageEnd",attrs:{x:e.cellX(t),y:e.cellY(t),width:e.size,height:e.size}}),e._v(" "),n("use",{staticClass:"outside",attrs:{href:"#arrow",x:"0",y:"0",transform:e.transformArrow(t,!0)}})])}),e._v(" "),e.isMaze?e._l(e.village.maze,function(t,s){return n("g",{key:"villageCellColumn-"+s},e._l(t,function(t,i){return n("g",{key:"villageCell-"+s+"-"+i},[n("use",{staticClass:"wall",class:{isSolidWall:!t.l},attrs:{x:s*e.size,y:i*e.size,href:"#wallLeft",rid:e.renderId}}),e._v(" "),n("use",{staticClass:"wall",class:{isSolidWall:!t.r},attrs:{x:s*e.size,y:i*e.size,href:"#wallRight",rid:e.renderId}}),e._v(" "),n("use",{staticClass:"wall",class:{isSolidWall:!t.u},attrs:{x:s*e.size,y:i*e.size,href:"#wallUp",rid:e.renderId}}),e._v(" "),n("use",{staticClass:"wall",class:{isSolidWall:!t.d},attrs:{x:s*e.size,y:i*e.size,href:"#wallDown",rid:e.renderId}})])}))}):e._e(),e._v(" "),e.result.cells?e._l(e.result.cells,function(t,s){return n("g",{key:"resultCellColumn-"+s},e._l(t,function(t,i){return n("g",{key:"resultCell-"+s+"-"+i},[t.orientation?n("use",{class:e.result.shortestPath.has(s+", "+i)?"solution":"notSolution",attrs:{href:"#arrow",x:"0",y:"0",transform:e.transformXYArrow(s,i,t.orientation)}}):e._e()])}))}):e._e(),e._v(" "),e.isInfo?e._l(e.village.houses,function(t,s){return n("g",{key:"villageHouseInfo-"+s},[n("rect",{staticClass:"houseInfoArea",attrs:{x:e.getHouseX(s)*e.houseWidth,y:e.getHouseY(s)*e.houseHeight,width:e.houseWidth,height:e.houseHeight}}),e._v(" "),n("text",{staticClass:"text-info"},[n("tspan",{attrs:{x:(e.getHouseX(s)+.5)*e.houseWidth,y:(e.getHouseY(s)+.45)*e.houseHeight}},[e._v("\n                            "+e._s(e.getHouseInfo(s))+"\n                        ")]),e._v(" "),n("tspan",{attrs:{x:(e.getHouseX(s)+.5)*e.houseWidth,y:(e.getHouseY(s)+.45)*e.houseHeight+50}},[e._v("\n                            "+e._s(e.getOrientationInfo(s))+"\n                        ")])])])}):e._e(),e._v(" "),e.isDetailed?e._l(e.village.houses,function(t,s){return n("g",{key:"villageHouseDetail-"+s},[n("title",[e._v(e._s(e.getHouseDetail(s)))]),e._v(" "),n("rect",{staticClass:"houseDetailArea",attrs:{x:(e.getHouseX(s)+.5)*e.houseWidth,y:e.getHouseY(s)*e.houseHeight,width:e.houseWidth/2,height:55}}),e._v(" "),n("text",{staticClass:"text-detail"},[n("tspan",{attrs:{x:(e.getHouseX(s)+.75)*e.houseWidth,y:e.getHouseY(s)*e.houseHeight+40}},[e._v("\n                            "+e._s(e.getHouseDetail(s))+"\n                        ")])])])}):e._e(),e._v(" "),e.readonly?e._e():e._l(e.village.houses,function(t,s){return n("rect",{key:"villageHouse-"+s,staticClass:"houseArea",class:{selectedHouse:e.selected.idx===s},attrs:{x:e.getHouseX(s)*e.houseWidth,y:e.getHouseY(s)*e.houseHeight,width:e.houseWidth,height:e.houseHeight},on:{click:function(n){e.selectHouse(t,s)}}})})],2)])])},staticRenderFns:[]};var J=n("VU/8")(G,K,!1,function(e){n("M4Ec")},"data-v-8cdd6ee6",null).exports,Q={name:"HouseAction",props:{selected:{type:Object,default:function(){return{}}}},data:function(){return this.refresh(),{houseName:"",orientation:"UP",houseList:[]}},computed:{resultHouse:function(){return this.houseName+"§"+this.orientation},hasSelection:function(){return"number"==typeof this.selected.idx},position:function(){return["North West","West","South West","North","Center","South","North East","East","South East"][this.selected.idx]}},methods:{splitSelected:function(){if(!this.selected.house)return this.houseName="",void(this.orientation="UP");var e=this.selected.house.split("§"),t=k()(e,2),n=t[0],s=t[1];this.houseName=n,this.orientation=s},change:function(){this.$emit("change",this.resultHouse)},refresh:function(){var e=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.house.getAll();case 2:t=e.sent,this.houseList=t.map(function(e){return e.name});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{selected:function(){this.splitSelected()}}},Z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[e.hasSelection?[n("header",[e._v("\n            "+e._s(e.position)+"\n        ")]),e._v(" "),n("label",[e._v("\n            House:\n            "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.houseName,expression:"houseName"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.houseName=t.target.multiple?n:n[0]},e.change]}},[n("option",{attrs:{value:"_empty_"}},[e._v("No house")]),e._v(" "),e._l(e.houseList,function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})],2)]),e._v(" "),n("label",[e._v("\n            Orientation:\n            "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.orientation,expression:"orientation"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.orientation=t.target.multiple?n:n[0]},e.change]}},[n("option",{attrs:{value:"UP"}},[e._v("↑")]),e._v(" "),n("option",{attrs:{value:"DOWN"}},[e._v("↓")]),e._v(" "),n("option",{attrs:{value:"LEFT"}},[e._v("←")]),e._v(" "),n("option",{attrs:{value:"RIGHT"}},[e._v("→")])])])]:n("div",{staticClass:"defaultMsg"},[e._v("\n        Nothing selected yet...\n    ")])],2)},staticRenderFns:[]};var ee=n("VU/8")(Q,Z,!1,function(e){n("BLiV")},"data-v-d730e692",null).exports,te={name:"AskDialog",props:{show:Boolean,weight:{type:Object,default:function(){return{}}}},data:function(){return{weightValues:f()({},this.weight)}},methods:{changeWeight:function(e,t){this.weightValues[e]=+t.currentTarget.value,this.$emit("input",this.weightValues)},confirm:function(){this.$emit("confirm")}},watch:{weight:function(){this.weightValues=f()({},this.weight)}}},ne={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dialog",{attrs:{open:e.show}},[n("header",[e._v("Weight for computing difficulties")]),e._v(" "),n("div",{staticClass:"body"},e._l(e.weightValues,function(t,s){return n("label",{key:s},[n("span",[e._v(e._s(s))]),e._v(" "),n("input",{attrs:{type:"range",min:"0",max:"100"},domProps:{value:t},on:{input:function(t){e.changeWeight(s,t)}}}),e._v(" "),n("span",[e._v(e._s(t))])])})),e._v(" "),n("div",{directives:[{name:"keys",rawName:"v-keys:d.escape.enter",value:e.confirm,expression:"confirm",arg:"d",modifiers:{escape:!0,enter:!0}}],staticClass:"controls"},[n("button",{on:{click:function(t){e.$emit("reset")}}},[e._v("\n            Reset\n        ")]),e._v(" "),n("button",{on:{click:e.confirm}},[e._v("\n            Ok\n        ")])])])},staticRenderFns:[]};var se=n("VU/8")(te,ne,!1,function(e){n("rKh0")},"data-v-dcb14912",null).exports,ie=L.village,ae=L.house,re={name:"VillageAnalysis",props:{result:{type:Object,default:function(){return{}}}},data:function(){return this.getFromStore(),{weight:{},showWeight:!1}},computed:{sizeX:function(){return ie.sizeX*ae.sizeX},hasResult:function(){return"number"==typeof this.result.nbCellAccessible},isResolvable:function(){return isFinite(this.result.nbShortestPath)},nbMaxCells:function(){return ie.sizeX*ie.sizeY*ae.sizeX*ae.sizeY+ie.starts.length+ie.ends.length},nbMovements:function(){return this.result.movements.length-1},readableMovements:function(){var e={"":" ","-":" ",u:"↑",d:"↓",l:"←",r:"→",ul:"↖",ur:"↗",dr:"↘",dl:"↙","-d":"↑","-u":"↓","-r":"←","-l":"→","-dr":"↖","-dl":"↗","-ul":"↘","-ur":"↙"};return this.result.movements.map(function(t){return e[t]||"?"}).join(" ")},difficultyMax:function(){var e=this.weight;return.01+1*e.nbCellAccessible+1*e.nbShortPath+1*e.nbMovements+1*e.nbComplexMove+1*e.nbHardMove},difficulty:function(){var e=this.weight;return.01+this.result.nbCellAccessible/this.nbMaxCells*e.nbCellAccessible+this.result.nbShortestPath/this.nbMaxCells*e.nbShortPath+this.nbMovements/(this.nbMaxCells-ie.sizeX)*e.nbMovements+this.asymptotic(this.result.complexMovements,this.sizeX,6)*e.nbComplexMove+this.asymptotic(this.result.hardMovements,9,3)*e.nbHardMove},difficultyEstimation:function(){var e=this.asymptotic(this.difficulty,this.difficultyMax,5);return Math.round(1e4*e)/100},difficultyPercent:function(){return this.difficultyEstimation+"%"}},methods:{asymptotic:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return 1-t/((arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)*e+t)},changeWeight:function(e){this.weight=e,g.configuration.set("weight",{type:"weight",weight:e})},getFromStore:function(){var e=l()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,t){e.next=5;break}return e.next=4,g.configuration.get("weight");case 4:n=e.sent;case 5:if(n){e.next=12;break}return e.next=8,g.configuration.get("defaultWeight");case 8:if(e.t0=e.sent,e.t0){e.next=11;break}e.t0={};case 11:n=e.t0;case 12:this.weight=n.weight;case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},components:{Weight:se}},oe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[e.hasResult?[n("header",[e._v("\n            Village Analysis\n        ")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isResolvable,expression:"isResolvable"}],staticClass:"information difficulty"},[n("meter",{attrs:{title:"Estimation of this maze's difficulty",min:"0",optimum:"0",max:"100",value:e.difficultyEstimation,low:"35",high:"70"},on:{click:function(t){e.showWeight=!0}}},[e._v("\n                Difficulty of this maze\n            ")]),e._v(" "),n("span",{staticClass:"percentInfo"},[e._v("\n                "+e._s(e.difficultyPercent)+"\n            ")])]),e._v(" "),e.isResolvable?n("div",{staticClass:"information resolvable",attrs:{title:"It is possible to find at least a path from start to end"}},[e._v("\n            Is resolvable\n        ")]):n("div",{staticClass:"information notResolvable",attrs:{title:"It is not possible to find a path from start to end"}},[e._v("\n            Not resolvable!\n        ")]),e._v(" "),n("div",{staticClass:"item",attrs:{title:"Number of cell which is possible to access from starting cells"}},[e._v("\n            Number of accessible cells:\n            "),n("span",{staticClass:"computed"},[e._v("\n                "+e._s(e.result.nbCellAccessible)+"\n            ")])]),e._v(" "),e.isResolvable?[n("div",{staticClass:"item",attrs:{title:"Minimum number of cells to go through from start to end."}},[e._v("\n                Shortest path:\n                "),n("span",{staticClass:"computed"},[e._v("\n                    "+e._s(e.result.nbShortestPath)+"\n                ")])]),e._v(" "),n("div",{staticClass:"item",attrs:{title:"Number of movements needed to go from start to end."}},[e._v("\n                Number of movements:\n                "),n("span",{staticClass:"computed"},[e._v("\n                    "+e._s(e.nbMovements)+"\n                ")])]),e._v(" "),n("div",{staticClass:"item",attrs:{title:"Number of movements where result depends of speed of moving the maze."}},[e._v("\n                Number of complex movements:\n                "),n("span",{staticClass:"computed"},[e._v("\n                    "+e._s(e.result.complexMovements)+"\n                ")])]),e._v(" "),n("div",{staticClass:"item",attrs:{title:"Number of movements where it is quite hard to do (such as diagonal move)."}},[e._v("\n                Number of hard movements:\n                "),n("span",{staticClass:"computed"},[e._v("\n                    "+e._s(e.result.hardMovements)+"\n                ")])]),e._v(" "),n("details",{staticClass:"item movements"},[n("summary",[e._v("\n                    Movements:\n                ")]),e._v(" "),n("p",[e._v("\n                    "+e._s(e.readableMovements)+"\n                ")])])]:e._e(),e._v(" "),n("Weight",{attrs:{show:e.showWeight,weight:e.weight},on:{input:e.changeWeight,confirm:function(t){e.showWeight=!1},reset:function(t){e.getFromStore(!0)}}})]:n("div",{staticClass:"defaultMsg"},[e._v("\n        Not analyzed yet...\n    ")])],2)},staticRenderFns:[]};var ue=n("VU/8")(re,oe,!1,function(e){n("yAjQ")},"data-v-07dfb2a2",null).exports,le={name:"AskDialog",props:{title:String,saveButton:{type:String,default:"Save"},cancelButton:{type:String,default:"Cancel"},show:Boolean},data:function(){return{}},methods:{close:function(){this.$emit("close")},confirm:function(){this.$emit("confirm")}}},ce={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dialog",{attrs:{open:e.show}},[n("header",[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"body"},[e._t("default")],2),e._v(" "),n("div",{directives:[{name:"keys",rawName:"v-keys:allfocus.escape",value:e.close,expression:"close",arg:"allfocus",modifiers:{escape:!0}},{name:"keys",rawName:"v-keys:allfocus.enter",value:e.confirm,expression:"confirm",arg:"allfocus",modifiers:{enter:!0}}],staticClass:"controls"},[n("button",{on:{click:e.close}},[e._v("\n            "+e._s(e.cancelButton)+"\n        ")]),e._v(" "),n("button",{on:{click:e.confirm}},[e._v("\n            "+e._s(e.saveButton)+"\n        ")])])])},staticRenderFns:[]};var he=n("VU/8")(le,ce,!1,function(e){n("cqrf"),n("eSW5")},"data-v-339fe850",null).exports,de=["UP","RIGHT","DOWN","LEFT"],fe={name:"VillageEditor",data:function(){var e=this;return this.refresh().then(function(){return e.load(e.villageList[0],!0)}),{village:new q({props:{synchronized:{default:!0}}}),villageList:[],selection:"",askDialog:!1,askDialogRemove:!1,selectedHouse:{}}},computed:{title:function(){return this.village.name||""},isNameUsed:function(){return this.villageList.includes(this.village.name)}},methods:{load:function(){var e=l()(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.village.get(t||"",n));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),refresh:function(){var e=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.village.getAll();case 2:t=e.sent,this.villageList=t.map(function(e){return e.name});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),checkRemove:function(){this.askDialogRemove=!0},remove:function(){var e=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.village.delete();case 2:this.refresh(),this.selectedHouse={},this.askDialogRemove=!1;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),save:function(){this.askDialog=!0},checkSave:function(){var e=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.village.name){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.village.save();case 4:this.refresh(),this.askDialog=!1;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selectHouse:function(e,t){if(this.selectedHouse.idx===t){var n=e.split("§"),s=k()(n,2),i=s[0],a=s[1],r=de[(de.indexOf(a)+1)%de.length];this.changeHouse(i+"§"+r)}else this.selectedHouse={house:e,idx:t}},changeHouse:function(e){s.a.set(this.village.houses,this.selectedHouse.idx,e),this.selectedHouse={house:e,idx:this.selectedHouse.idx}}},components:{Village:J,AskDialog:he,HouseAction:ee,VillageAnalyze:ue}},ve={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sharedArea"},[n("header",[n("h2",[e._v(e._s(e.title))])]),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:e.villageList.length>0,expression:"villageList.length > 0"}],attrs:{placeholder:"Choose the village",list:"villageList"},domProps:{value:e.selection},on:{change:function(t){e.load(t.currentTarget.value)}}}),e._v(" "),n("datalist",{attrs:{id:"villageList"}},e._l(e.villageList,function(e){return n("option",{key:"village-"+e,domProps:{value:e}})})),e._v(" "),n("Village",{attrs:{village:e.village,selected:e.selectedHouse,result:e.village.analyzeResult,display:"mazeInfo",changeDisplay:["maze","mazeInfo"]},on:{selection:e.selectHouse}}),e._v(" "),n("houseAction",{staticClass:"houseAction",attrs:{selected:e.selectedHouse},on:{change:e.changeHouse}}),e._v(" "),n("VillageAnalyze",{staticClass:"villageAnalyze",attrs:{result:e.village.analyzeResult}}),e._v(" "),n("div",{staticClass:"controls"},[n("button",{attrs:{disabled:!e.title},on:{click:e.checkRemove}},[e._v("\n            Delete\n        ")]),e._v(" "),n("button",{on:{click:e.save}},[e._v("\n            Save\n        ")]),e._v(" "),n("AskDialog",{attrs:{title:"Save village",show:e.askDialog},on:{close:function(t){e.askDialog=!1},confirm:e.checkSave}},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.village.name,expression:"village.name"}],class:{dialogFieldError:!e.village.name},attrs:{placeholder:"Name of the village"},domProps:{value:e.village.name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),t.stopPropagation(),e.checkSave(t)):null},input:function(t){t.target.composing||e.$set(e.village,"name",t.target.value)}}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isNameUsed,expression:"isNameUsed"}],staticClass:"dialogWarn"},[e._v("\n                    House will be overwritten\n                ")])])]),e._v(" "),n("AskDialog",{attrs:{title:"Delete village",show:e.askDialogRemove,saveButton:"Delete"},on:{close:function(t){e.askDialogRemove=!1},confirm:e.remove}},[n("div",[e._v('\n                Do you want to delete village "'+e._s(e.title)+'"?\n            ')])])],1)],1)},staticRenderFns:[]};var pe=n("VU/8")(fe,ve,!1,function(e){n("Khtm")},"data-v-96c2138c",null).exports,me={name:"HouseView",props:{house:{type:F}},data:function(){return{size:100}},computed:{sizeX:function(){return this.house.maze.length},sizeY:function(){return(this.house.maze[0]||[]).length},width:function(){return this.sizeX*this.size},height:function(){return this.sizeY*this.size},svgWidth:function(){return this.width+2*this.size},svgHeight:function(){return this.height+2*this.size}},methods:{cellX:function(e){return e.split(/,\s*/)[0]*this.size},cellY:function(e){return e.split(/,\s*/)[1]*this.size},changeWall:function(e,t,n){var s=this.house.maze[e][t],i=!s[n];switch(s[n]=i,n){case"l":this.house.setCell(e-1,t,{r:i});break;case"r":this.house.setCell(e+1,t,{l:i});break;case"u":this.house.setCell(e,t-1,{d:i});break;case"d":this.house.setCell(e,t+1,{u:i})}}}},ge={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{attrs:{width:"98%",height:"98%",viewBox:[-e.size,-e.size,e.svgWidth,e.svgHeight].join(" ")}},[n("defs",[n("path",{attrs:{id:"wallLeft",d:"M0,0 v100"}}),e._v(" "),n("path",{attrs:{id:"wallUp",d:"M0,0 h100"}}),e._v(" "),n("path",{attrs:{id:"wallRight",d:"M100,0 v100"}}),e._v(" "),n("path",{attrs:{id:"wallDown",d:"M0,100 h100"}})]),e._v(" "),n("g",[n("rect",{staticClass:"house",attrs:{x:"0",y:"0",width:e.width,height:e.height}})]),e._v(" "),e.house.maze[0]?e._l(e.house.maze,function(t,s){return n("g",{key:"cellColumn-"+s},e._l(t,function(t,i){return n("g",{key:"cell-"+s+"-"+i},[n("use",{staticClass:"wall",class:{isSolidWall:!t.l},attrs:{x:s*e.size,y:i*e.size,href:"#wallLeft"},on:{click:function(t){e.changeWall(s,i,"l")}}}),e._v(" "),n("use",{staticClass:"wall",class:{isSolidWall:!t.r},attrs:{x:s*e.size,y:i*e.size,href:"#wallRight"},on:{click:function(t){e.changeWall(s,i,"r")}}}),e._v(" "),n("use",{staticClass:"wall",class:{isSolidWall:!t.u},attrs:{x:s*e.size,y:i*e.size,href:"#wallUp"},on:{click:function(t){e.changeWall(s,i,"u")}}}),e._v(" "),n("use",{staticClass:"wall",class:{isSolidWall:!t.d},attrs:{x:s*e.size,y:i*e.size,href:"#wallDown"},on:{click:function(t){e.changeWall(s,i,"d")}}})])}))}):e._e()],2)},staticRenderFns:[]};var _e=n("VU/8")(me,ge,!1,function(e){n("kKWW")},"data-v-600491ec",null).exports,ye={name:"HouseEditor",data:function(){var e=this;return this.refresh().then(function(){return e.load(e.houseList[0],!0)}),{house:new F({props:{synchronized:{default:!0}}}),houseList:[],selection:"",askDialog:!1,askDialogRemove:!1}},computed:{title:function(){return this.house.name||""},isNameUsed:function(){return this.houseList.includes(this.house.name)}},methods:{init:function(){this.house.initMaze(),this.house.name="",this.house.orientation="UP"},load:function(){var e=l()(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.house.has(t);case 2:e.sent&&this.house.get(t,n);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),refresh:function(){var e=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.house.getAll();case 2:t=e.sent,this.houseList=t.map(function(e){return e.name});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),save:function(){var e=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.askDialog=!0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),checkSave:function(){var e=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.house.name){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.house.save();case 4:this.refresh(),this.askDialog=!1;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),checkRemove:function(){this.askDialogRemove=!0},remove:function(){var e=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.house.delete();case 2:this.refresh(),this.askDialogRemove=!1;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},created:function(){this.house.name||this.init()},components:{House:_e,AskDialog:he}},we={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sharedArea"},[n("header",[n("h2",[e._v(e._s(e.title))])]),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:e.houseList.length>0,expression:"houseList.length > 0"}],attrs:{placeholder:"Choose the house",list:"houseList"},domProps:{value:e.selection},on:{change:function(t){e.load(t.currentTarget.value)}}}),e._v(" "),n("datalist",{attrs:{id:"houseList"}},e._l(e.houseList,function(e){return n("option",{key:"house-"+e,domProps:{value:e}})})),e._v(" "),n("House",{attrs:{house:e.house}}),e._v(" "),n("aside",{staticClass:"options"},[e._v("\n        Options\n    ")]),e._v(" "),n("div",{staticClass:"controls"},[n("button",{attrs:{disabled:!e.title},on:{click:e.checkRemove}},[e._v("\n            Remove\n        ")]),e._v(" "),n("button",{on:{click:e.init}},[e._v("\n            Reset\n        ")]),e._v(" "),n("button",{on:{click:e.save}},[e._v("\n            Save\n        ")]),e._v(" "),n("AskDialog",{attrs:{title:"Save house",show:e.askDialog},on:{close:function(t){e.askDialog=!1},confirm:e.checkSave}},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.house.name,expression:"house.name"}],class:{dialogFieldError:!e.house.name},attrs:{placeholder:"Name of the house"},domProps:{value:e.house.name},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),t.stopPropagation(),e.checkSave(t)):null},input:function(t){t.target.composing||e.$set(e.house,"name",t.target.value)}}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isNameUsed,expression:"isNameUsed"}],staticClass:"dialogWarn"},[e._v("\n                    House will be overwritten\n                ")])])]),e._v(" "),n("AskDialog",{attrs:{title:"Delete house",show:e.askDialogRemove,saveButton:"Delete"},on:{close:function(t){e.askDialogRemove=!1},confirm:e.remove}},[n("div",[e._v('\n                Do you want to delete house "'+e._s(e.title)+'"?\n            ')])])],1)],1)},staticRenderFns:[]};var be=n("VU/8")(ye,we,!1,function(e){n("9aMW")},"data-v-6815315e",null).exports,ze=n("c/Tr"),ke=n.n(ze),xe={props:{open:{type:Boolean,default:!1}},data:function(){return{isOpen:this.open}},methods:{change:function(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)}},watch:{open:function(){this.isOpen=this.open}}},Ce={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"details",class:{open:this.isOpen}},[t("div",{staticClass:"summary",on:{click:this.change}},[this._t("summary")],2),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.isOpen,expression:"isOpen"}],staticClass:"body"},[this._t("body")],2)])},staticRenderFns:[]};var Pe=n("VU/8")(xe,Ce,!1,function(e){n("ZIFM")},"data-v-c998bd9c",null).exports,De=n("pFYg"),Ue=n.n(De),Re=0,He={props:{value:{type:Array,default:function(){return[]}},options:{type:Array,default:function(){return[]}},customizable:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{internalValue:new H.a(this.value),inputValue:"",gid:Re++}},computed:{optionsList:function(){return this.options.map(function(e){return"object"===(void 0===e?"undefined":Ue()(e))?e:{id:e,text:e}})},optionsMap:function(){var e=new I.a;return this.optionsList.forEach(function(t){e.set(t.id,t.text)}),e},optionsFilteredList:function(){var e=this;return this.optionsList.filter(function(t){return!e.internalValue.has(t.id)})},dataListId:function(){return"dataList-multiSelect-"+this.gid}},methods:{changeValue:function(){var e=this.inputValue;e&&(this.customizable||this.optionsMap.has(e))&&(this.internalValue.add(e),this.update(),this.inputValue="")},drop:function(e){this.internalValue.delete(e)&&this.update()},update:function(){var e=ke()(this.internalValue);this.$emit("input",e),this.$emit("change",e)}},watch:{value:function(){this.internalValue=new H.a(this.value)}}},Ne={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multiSelect"},[n("div",{staticClass:"display-values"},e._l(Array.from(e.internalValue),function(t){return n("span",{key:"selected-"+e.gid+t,staticClass:"selected-item",attrs:{title:"Click to remove this item"},on:{click:function(n){e.drop(t)}}},[e._v("\n            "+e._s(e.optionsMap.get(t))+"\n        ")])})),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],attrs:{type:"text",list:e.dataListId,placeholder:e.placeholder},domProps:{value:e.inputValue},on:{change:e.changeValue,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.changeValue(t):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.inputValue=""}],input:function(t){t.target.composing||(e.inputValue=t.target.value)}}}),e._v(" "),n("datalist",{attrs:{id:e.dataListId}},e._l(e.optionsFilteredList,function(t){return n("option",{key:e.dataListId+t.id,domProps:{value:t.id}},[e._v("\n            "+e._s(t.text)+"\n        ")])}))])},staticRenderFns:[]};var Ie=n("VU/8")(He,Ne,!1,function(e){n("WBZv")},"data-v-3a33b235",null).exports,Ae={name:"HouseSelector",props:{selected:{type:Object,default:function(){return{}}}},data:function(){return this.refresh(),{houseNames:[],orientations:[],houseList:[],orientationOptions:[{id:"UP",text:"↑"},{id:"DOWN",text:"↓"},{id:"LEFT",text:"←"},{id:"RIGHT",text:"→"}]}},computed:{resultHouse:function(){return{houses:this.houseNames,orientations:this.orientations}},hasSelection:function(){return"number"==typeof this.selected.idx},position:function(){return["North West","West","South West","North","Center","South","North East","East","South East"][this.selected.idx]||"Default"}},created:function(){this.extractData()},methods:{extractData:function(){this.houseNames=this.selected.info.houses,this.orientations=this.selected.info.orientations},change:function(){this.$emit("change",this.resultHouse)},refresh:function(){var e=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.house.getAll();case 2:t=e.sent,this.houseList=t.map(function(e){return e.name});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{selected:function(){this.extractData()}},components:{MultiSelect:Ie}},Ve={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[n("header",[e._v("\n        "+e._s(e.position)+"\n    ")]),e._v(" "),n("label",[e._v("\n        House:\n        "),n("multiSelect",{attrs:{options:e.houseList,title:"Limit request with these houses"},on:{input:e.change},model:{value:e.houseNames,callback:function(t){e.houseNames=t},expression:"houseNames"}})],1),e._v(" "),n("label",[e._v("\n        Orientation:\n        "),n("multiSelect",{attrs:{options:e.orientationOptions,title:"Limit request with these directions"},on:{input:e.change},model:{value:e.orientations,callback:function(t){e.orientations=t},expression:"orientations"}})],1)])},staticRenderFns:[]};var Me=n("VU/8")(Ae,Ve,!1,function(e){n("Eqvh")},"data-v-441ea933",null).exports,Se={UP:"↑",DOWN:"↓",LEFT:"←",RIGHT:"→"},We={name:"RequestStatus",props:{village:{type:q,require:!0}},data:function(){return this.refresh(),{conf:_,houseList:[]}},computed:{houseListLength:function(){return this.houseList.length},defaultHouses:function(){var e=this.village.defaultInfo.houses,t=e.length,n=this.houseListLength;return 0===t||t===n?"All ("+n+" houses)":e.join(", ")},defaultOrientations:function(){var e=this.village.defaultInfo.orientations,t=e.length;return 0===t||4===t?"All (4 orientations)":e.map(function(e){return Se[e]}).join(", ")},defaultNbHouses:function(){return this.getNb(this.village.defaultInfo.houses,this.houseListLength)},defaultNbOrientations:function(){return this.getNb(this.village.defaultInfo.orientations,4)},nbPossibilities:function(){var e=this,t=void 0;return t=this.village.infos.reduce(function(t,n){return t*e.getNb(n.houses,e.defaultNbHouses)*e.getNb(n.orientations,e.defaultNbOrientations)},1),this.$emit("nbPossibilities",t),t},timeEstimation:function(){var e=[],t="",n=this.nbPossibilities/this.conf.timeByMaze;if(["","w"].includes(t)&&n>=864e5){var s=Math.floor(n/864e5);n-=864e5*s,e.push(s," days, "),t||(t=s>3?"w":"d")}if(["","d"].includes(t)&&n>=36e5){var i=Math.floor(n/36e5);n-=36e5*i,e.push(i,"h "),t||(t=i>3?"d":"h")}if(["","h"].includes(t)&&n>=6e4){var a=Math.floor(n/6e4);n-=6e4*a,e.push(a,"min "),t||(t=a>3?"h":"min")}if(["","min"].includes(t)&&n>=1e3){var r=Math.floor(n/1e3);n-=1e3*r,e.push(r,"s "),t||(t=r>3?"h":"s")}return["","s"].includes(t)&&n>0&&e.push(Math.round(n),"ms"),e.join("")}},methods:{refresh:function(){var e=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.house.getAll();case 2:t=e.sent,this.houseList=t.map(function(e){return e.name});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getNb:function(e,t){return 0===e.length?t:e.length}}},Ee={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"requestStatus"},[n("div",{staticClass:"defaultInfo"},[n("header",[e._v("Default status")]),e._v(" "),n("label",{staticClass:"label-info"},[n("span",{staticClass:"label-title"},[e._v("Houses")]),e._v(":\n            "),n("output",[e._v(e._s(e.defaultHouses))])]),e._v(" "),n("label",{staticClass:"label-info"},[n("span",{staticClass:"label-title"},[e._v("Orientations")]),e._v(":\n            "),n("output",[e._v(e._s(e.defaultOrientations))])])]),e._v(" "),n("div",{staticClass:"requestInfo"},[n("header",[e._v("Request estimation")]),e._v(" "),n("label",{staticClass:"label-info"},[n("span",{staticClass:"label-title"},[e._v("\n                Estimation time")]),e._v(":\n            "),n("output",[e._v("\n                "+e._s(e.timeEstimation)+"\n            ")])])])])},staticRenderFns:[]};var Le=n("VU/8")(We,Ee,!1,function(e){n("Bfz0")},"data-v-92de21e8",null).exports,Oe={name:"VillageResult",props:{result:{type:Object,default:function(){return{}}}},data:function(){return{village:new q({withoutAnalyze:!0})}},created:function(){this.updateResult()},computed:{},methods:{updateResult:function(){this.result.maze&&(this.village.maze=this.result.maze),this.result.houses&&(this.village.houses=this.result.houses)}},watch:{result:function(){this.updateResult()}},components:{Village:J}},Fe={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:function(t){e.$emit("click")}}},[n("Village",{attrs:{village:e.village,display:"maze",changeDisplay:!1,readonly:""}})],1)},staticRenderFns:[]};var Xe=n("VU/8")(Oe,Fe,!1,function(e){n("Pt9T")},"data-v-cfc3f800",null).exports,$e={name:"VillageResultDetails",props:{result:{type:Object,default:function(){return{}}}},data:function(){return{village:new q({withoutAnalyze:!1}),askDialog:!1,villageName:"",villageList:[]}},created:function(){this.updateResult()},computed:{noResult:function(){return!this.result||!this.result.maze&&!this.result.houses},isNameUsed:function(){return this.villageList.includes(this.village.name)}},methods:{updateResult:function(){var e=this.result||{},t=e.maze,n=e.houses,s=e.name;t&&(this.village.maze=t),this.village.houses=n||[],this.villageName=s||""},updateVillages:function(){var e=this;this.village.getList().then(function(t){return e.villageList=t})},save:function(){this.noResult||(this.askDialog=!0)},checkSave:function(){var e=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.villageName,this.village.name=t,this.result.name=t,e.next=5,this.village.save();case 5:this.askDialog=!1,this.updateVillages();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},watch:{result:function(){this.updateResult()}},components:{Village:J,VillageAnalyze:ue,AskDialog:he}},Ye={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[e.noResult?n("div",[e._v("\n        No result selected...\n    ")]):[n("header",[n("h4",[e._v("\n            "+e._s(e.villageName)+"\n        ")])]),e._v(" "),n("div",[n("Village",{attrs:{village:e.village,display:"mazeInfo",changeDisplay:["maze","mazeInfo"],readonly:""}})],1),e._v(" "),n("VillageAnalyze",{staticClass:"villageAnalyze",attrs:{result:e.village.analyzeResult}})],e._v(" "),n("AskDialog",{staticClass:"fixed",attrs:{title:"Save village",show:e.askDialog},on:{close:function(t){e.askDialog=!1},confirm:e.checkSave}},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.villageName,expression:"villageName"}],class:{dialogFieldError:!e.villageName},attrs:{placeholder:"Name of the village"},domProps:{value:e.villageName},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),t.stopPropagation(),e.checkSave(t)):null},input:function(t){t.target.composing||(e.villageName=t.target.value)}}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isNameUsed,expression:"isNameUsed"}],staticClass:"dialogWarn"},[e._v("\n                House will be overwritten\n            ")])])])],2)},staticRenderFns:[]};var qe=n("VU/8")($e,Ye,!1,function(e){n("76lq")},"data-v-72f8bd4c",null).exports,Be=L.village,Te=L.house,je={name:"VillageEditor",data:function(){this.refresh();var e=new q({withoutAnalyze:!0});return{isRequestOpen:!0,isResultOpen:!1,village:e,houseList:[],selectedHouse:{info:e.defaultInfo},nbPossibilities:0,computeProgress:-1,isRuning:!1,isStopping:!1,offset:0,villageComputed:[],resultLimitation:50,villageComputedNb:0,startCompute:-1,conf:_,selectedResult:{}}},computed:{canCompute:function(){return this.nbPossibilities>this.offset},speed:function(){var e=this.offset,t=this.startCompute;if(e){var n=e/(1e3*(performance.now()-t));return n}return 0},stateProgress:function(){return this.offset+" / "+this.nbPossibilities},watcherInfo:function(){return this.conf.infos,this.conf.defaultInfo,Date.now()},continueComputation:function(){return this.canCompute&&this.offset>0},villageComputedDisplayed:function(){return this.villageComputed.slice(0,this.resultLimitation)}},created:function(){this.updateInfo()},methods:{updateInfo:function(){var e=this.conf.defaultInfo,t=this.conf.infos;e&&(this.village.defaultInfo=e,void 0===this.selectedHouse.idx&&s.a.set(this.selectedHouse,"info",e)),t.length&&(this.village.infos=t,"number"==typeof this.selectedHouse.idx&&s.a.set(this.selectedHouse,"info",t))},refresh:function(){var e=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.house.getAll();case 2:t=e.sent,this.houseList=t.map(function(e){return e.name}),this.village.get("§¤§infos§",!0);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),selectHouse:function(e,t){this.selectedHouse.idx===t?this.selectedHouse={info:this.village.defaultInfo}:this.selectedHouse={house:e,idx:t,info:this.village.infos[t]||{houses:[],orientations:[]}}},changeHouse:function(e){if("number"==typeof this.selectedHouse.idx){s.a.set(this.village.infos,this.selectedHouse.idx,e);var t=this.conf.infos;t[this.selectedHouse.idx]=e,s.a.set(this.conf,"infos",t.slice())}else this.village.defaultInfo=e,this.conf.defaultInfo=e;this.computeProgress=-1,this.offset=0},compute:function(){var e=l()(o.a.mark(function e(){var t,n,s,i,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.houseComputed=[],this.isRuning=!0,this.isRequestOpen=!1,this.isResultOpen=!0,t=new H.a,this.startCompute=performance.now(),this.village.infos.forEach(function(e){return e.houses.forEach(function(e){return t.add(e)})}),(n=f()({},this.village.defaultInfo)).houses.length?n.houses.forEach(function(e){return t.add(e)}):(s=this.houseList,n.houses=s,s.forEach(function(e){return t.add(e)})),n.orientations.length||(n.orientations=["UP","DOWN","LEFT","RIGHT"]),i={},a=ke()(t,function(e){return g.house.get(e).then(function(t){return i[e]=t})}),e.next=14,p.a.all(a);case 14:E("composition",{starts:Be.starts,ends:Be.ends,nbPossibilities:this.nbPossibilities,infos:this.village.infos,defaultInfo:n,mazes:i,mazeWidth:this.village.maze.length,mazeHeight:this.village.maze[0].length,mazeWidthHouse:Be.sizeX,mazeHeightHouse:Be.sizeY,houseWidth:Te.sizeX,houseHeight:Te.sizeY,useOnce:!0,offset:this.offset},this.onComputeProgress.bind(this)).then(this.onComputeFinished.bind(this));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),stopCompute:function(){this.isStopping=!0,E("stopComposition",{})},onComputeProgress:function(e){var t=this,n=e.progress,s=e.maze,i=e.houses,a=e.offset,r=this.computeProgress,o=this.offset;if(n>r&&(this.computeProgress=n),a>o&&(this.offset=a),i||s){var u=i.join("");if(this.villageComputed.find(function(e){return e.houseId===u}))return;this.villageComputedNb++,this.villageComputedNb>=this.resultLimitation&&this.stopCompute(),setTimeout(function(){t.villageComputed.push({houseId:u,maze:s,houses:i,result:e.result,difficulty:e.difficulty})},10)}},onComputeFinished:function(e){this.isRuning=!1,this.isStopping=!1,this.computeProgress=e.progress,this.offset=e.offset;var t=this.conf.timeByMaze,n=1e3*this.speed;this.conf.timeByMaze=(t+n)/2},save:function(){this.$refs.villageReesultDetails.save()},changedStateRequest:function(e){this.isRequestOpen=e},changedStateResult:function(e){this.isResultOpen=e},changeNbPossibilities:function(e){this.nbPossibilities=e},selectResult:function(e){e===this.selectedResult.houseId?this.selectedResult={}:this.selectedResult=this.villageComputed.find(function(t){return t.houseId===e})},removeResult:function(){var e=this.selectedResult;if(e){this.selectedResult={};var t=e.houseId,n=this.villageComputed.findIndex(function(e){return e.houseId===t});-1!==n&&(this.villageComputed.splice(n,1),this.villageComputedNb--)}}},watch:{watcherInfo:function(){this.updateInfo()}},filters:{dec1:function(e){return Math.round(10*e)/10}},components:{Village:J,AskDialog:he,DetailsCustom:Pe,HouseSelector:Me,RequestStatus:Le,VillageResult:Xe,VillageResultDetails:qe}},Ge={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"composition"},[n("DetailsCustom",{staticClass:"request details",attrs:{open:e.isRequestOpen},on:{change:e.changedStateRequest}},[n("div",{staticClass:"summary",attrs:{slot:"summary"},slot:"summary"},[n("header",[n("h2",[e._v("Request")])]),e._v(" "),n("div",{staticClass:"info-progress"},[e.computeProgress>=0?[n("progress",{attrs:{min:"0",max:"1",title:e.stateProgress},domProps:{value:e.computeProgress}}),e._v(" "),n("span",{attrs:{title:e.stateProgress}},[e._v(e._s(Math.round(1e3*e.computeProgress)/10)+"%")])]:e._e()],2)]),e._v(" "),n("section",{staticClass:"sharedArea",attrs:{slot:"body"},slot:"body"},[n("Village",{staticClass:"svg",attrs:{village:e.village,selected:e.selectedHouse,display:"info",changeDisplay:!1},on:{selection:e.selectHouse}}),e._v(" "),n("HouseSelector",{attrs:{selected:e.selectedHouse},on:{change:e.changeHouse}}),e._v(" "),n("RequestStatus",{attrs:{village:e.village},on:{nbPossibilities:e.changeNbPossibilities}})],1)]),e._v(" "),n("DetailsCustom",{staticClass:"result details",attrs:{open:e.isResultOpen},on:{change:e.changedStateResult}},[n("div",{staticClass:"summary",attrs:{slot:"summary"},slot:"summary"},[n("header",[n("h2",[e._v("\n                    Result\n                    "),e.villageComputed.length>0?n("span",[e._v("("+e._s(e.villageComputed.length)+")")]):e._e()])]),e._v(" "),n("div",{staticClass:"controls-compute"},[e.isRuning?n("button",{attrs:{disabled:e.isStopping},on:{click:function(t){return t.stopPropagation(),e.stopCompute(t)}}},[e.isStopping?n("span",[e._v("Stopping...")]):n("span",[e._v("Stop")])]):n("button",{attrs:{disabled:!e.canCompute},on:{click:function(t){return t.stopPropagation(),e.compute(t)}}},[e._v("\n                    Compute "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.continueComputation,expression:"continueComputation"}]},[e._v("(continue)")])]),e._v(" "),n("progress",{directives:[{name:"show",rawName:"v-show",value:e.isRuning,expression:"isRuning"}]}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.isRuning,expression:"isRuning"}],attrs:{title:"Average speed of computation (in number of position computed per second)"}},[e._v(e._s(e._f("dec1")(this.speed))+"M /s")])])]),e._v(" "),n("div",{staticClass:"sharedArea resultArea",attrs:{slot:"body"},slot:"body"},[n("div",{staticClass:"village-result"},[0===e.villageComputed.length?n("span",{staticClass:"noResult"},[e._v("\n                    No results found yet :/\n                ")]):e._e(),e._v(" "),e._l(e.villageComputedDisplayed,function(t,s){return n("VillageResult",{key:"villageResult"+s,staticClass:"village-result-item",class:{"result-selected":e.selectedResult.houseId===t.houseId},attrs:{result:t,summary:"true"},on:{click:function(n){e.selectResult(t.houseId)}}})}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.villageComputed.length-e.villageComputedDisplayed.length>0,expression:"villageComputed.length - villageComputedDisplayed.length > 0"}]},[e._v("\n                    There are also "+e._s(e.villageComputed.length-e.villageComputedDisplayed.length)+" more result.\n                ")])],2),e._v(" "),n("VillageResultDetails",{ref:"villageReesultDetails",staticClass:"result-details",attrs:{result:e.selectedResult}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!!e.selectedResult.houseId,expression:"!!selectedResult.houseId"}],staticClass:"controls"},[n("button",{on:{click:e.removeResult}},[e._v("\n                    Remove from result\n                ")]),e._v(" "),n("button",{on:{click:e.save}},[e._v("\n                    Save\n                ")])])],1)])],1)},staticRenderFns:[]};var Ke=n("VU/8")(je,Ge,!1,function(e){n("3aVx")},"data-v-ce39f364",null).exports,Je={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e._m(0),e._v(" "),n("ul",e._l(e.list,function(t){return n("li",{key:t.name,on:{click:function(n){e.egg(t.name)}}},[n("span",{staticClass:"item-name"},[e._v("\n                "+e._s(t.name)+":\n            ")]),e._v(" "),n("span",{staticClass:"item-value"},[e._v("\n                "+e._s(t.value)+"\n            ")])])}))])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h1",[this._v("About houseQuest")])])}]};var Qe={name:"Configuration",data:function(){return{conf:_,themes:[{name:"Default",value:"default"},{name:"Blueprint",value:"blueprint"},{name:"Purple",value:"purple"}]}}},Ze={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e._m(0),e._v(" "),n("div",[e._v("\n        Theme:\n        "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.conf.theme,expression:"conf.theme"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.conf,"theme",t.target.multiple?n:n[0])}}},e._l(e.themes,function(t){return n("option",{key:"theme-"+t.name,domProps:{value:t.value}},[e._v("\n                "+e._s(t.name)+"\n            ")])}))])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h1",[this._v("Configuration")])])}]};var et={name:"ConfigAbout",data:function(){return{}},components:{About:n("VU/8")({name:"about",data:function(){return{data:[{name:"Author",value:"Benoît Mariat"},{name:"Original idea of the game",value:"Romain-Guirec Piotte"},{name:"Date",value:"12 / 05 / 2018"},{name:"licence",value:"MIT"}],addedData:[{name:"Written in Austria and Switzerland",value:"08/05/2018 → 20/05/2018"}],added:!1}},computed:{list:function(){return this.added?this.data.concat(this.addedData):this.data}},methods:{egg:function(e){"Date"===e&&(this.added=!0)}}},Je,!1,function(e){n("TaUx")},"data-v-6be41049",null).exports,Configuration:n("VU/8")(Qe,Ze,!1,function(e){n("MAKD")},"data-v-f552f314",null).exports}},tt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"config-about"},[t("Configuration"),this._v(" "),t("About")],1)},staticRenderFns:[]};var nt=n("VU/8")(et,tt,!1,function(e){n("CsgH")},"data-v-7aaf7df1",null).exports,st={name:"Menu",props:{route:String}},it={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"error"},[this._v('\n    The page "'+this._s(this.route)+'" cannot be found.\n    '),t("br"),this._v("\n    Check the link which has bring you here...\n")])},staticRenderFns:[]};var at=n("VU/8")(st,it,!1,function(e){n("DNJU")},"data-v-51f4bc60",null).exports;s.a.use(P.a);var rt,ot,ut,lt=new P.a({routes:[{path:"/",name:"Main",component:U},{path:"/village",name:"Village",component:pe},{path:"/house",name:"House",component:be},{path:"/composition",name:"Compositor",component:Ke},{path:"/about",name:"ConfigAbout",component:nt},{path:"*",name:"Default",component:at,props:function(e){return{route:e.path}}}]}),ct=n("mvHQ"),ht=n.n(ct),dt=(rt=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.house.getAll();case 2:0===(t=e.sent).length?[{name:"House 3",maze:[[{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{u:!1,d:!1,l:!1,r:!0}],[{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{u:!0,d:!0,l:!0,r:!0}],[{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{u:!1,d:!1,l:!0,r:!0}],[{u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{u:!1,d:!0,l:!0,r:!1},{u:!0,d:!1,l:!0,r:!1}]],updateDate:1525725032146,createDate:1525725032146},{name:"House 4",maze:[[{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1}],[{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1}],[{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!0,l:!1,r:!0}],[{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1},{u:!1,d:!0,l:!0,r:!1},{u:!0,d:!0,l:!0,r:!1},{u:!0,d:!1,l:!0,r:!1}]],updateDate:1525725133623,createDate:1525725133623},{name:"House 5",maze:[[{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!1,l:!0,r:!0}],[{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!0,l:!0,r:!0}],[{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!1,l:!0,r:!0}],[{u:!1,d:!0,l:!0,r:!1},{u:!0,d:!0,l:!0,r:!1},{u:!0,d:!0,l:!0,r:!1},{u:!0,d:!1,l:!0,r:!1}]],updateDate:1525725177765,createDate:1525725177765},{name:"House 6",maze:[[{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1},{u:!1,d:!1,l:!0,r:!0}],[{u:!1,d:!0,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1}],[{u:!1,d:!0,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1}],[{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!0,l:!0,r:!1},{u:!0,d:!0,l:!1,r:!1}]],updateDate:1525725294300,createDate:1525725294300},{name:"House 7",maze:[[{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{u:!1,d:!1,l:!0,r:!0}],[{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1},{u:!1,d:!1,l:!0,r:!0}],[{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1}],[{u:!1,d:!0,l:!0,r:!1},{u:!0,d:!0,l:!1,r:!1},{u:!0,d:!0,l:!1,r:!1},{u:!0,d:!1,l:!1,r:!0}]],updateDate:1525725676984,createDate:1525712707865},{name:"House 8",maze:[[{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1}],[{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{u:!0,d:!1,l:!1,r:!0}],[{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1}],[{u:!0,d:!0,l:!1,r:!1},{u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{u:!1,d:!0,l:!1,r:!0}]],updateDate:1525725456801,createDate:1525725456801},{name:"House 9",maze:[[{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!1,l:!0,r:!0}],[{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1}],[{u:!0,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1},{u:!0,d:!0,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!0,l:!1,r:!1}],[{u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!0,l:!1,r:!0}]],updateDate:1525725566729,createDate:1525725566729},{name:"House 2",maze:[[{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{u:!1,d:!1,l:!0,r:!0}],[{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{u:!0,d:!1,l:!0,r:!0}],[{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1}],[{u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{u:!0,d:!1,l:!1,r:!0}]],updateDate:1525712707865,createDate:1525712707865},{name:"House 1",maze:[[{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!1,d:!0,l:!0,r:!1},{u:!0,d:!1,l:!1,r:!0}],[{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!0,l:!1,r:!0},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!1,r:!0},{u:!1,d:!0,l:!0,r:!0}],[{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!1,l:!0,r:!0}],[{u:!1,d:!0,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!0,d:!1,l:!0,r:!1},{0:"-",1:"U",2:"P",u:!1,d:!1,l:!0,r:!0},{u:!1,d:!1,l:!0,r:!0}]],updateDate:1525709593388,createDate:1525709593388}].forEach(function(e){return g.house.set(e)}):pt&&console.log("Houses",ht()(t));case 4:case"end":return e.stop()}},e,this)})),function(){return rt.apply(this,arguments)}),ft=(ot=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.village.getAll();case 2:0===(t=e.sent).length?[].forEach(function(e){return g.village.set(e)}):pt&&console.log("Villages",ht()(t));case 4:case"end":return e.stop()}},e,this)})),function(){return ot.apply(this,arguments)}),vt=(ut=l()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:g.configuration.set({type:"defaultWeight",weight:{nbCellAccessible:5,nbShortPath:10,nbMovements:10,nbComplexMove:1,nbHardMove:40}});case 1:case"end":return e.stop()}},e,this)})),function(){return ut.apply(this,arguments)}),pt=!1;var mt=function(){ft(),dt(),vt()};s.a.config.productionTip=!1,new s.a({el:"#app",router:lt,components:{App:b},template:"<App/>",mounted:mt})},Pt9T:function(e,t){},RF7r:function(e,t){},TaUx:function(e,t){},WBZv:function(e,t){},ZIFM:function(e,t){},cqrf:function(e,t){},eSW5:function(e,t){},kKWW:function(e,t){},o3J3:function(e,t){},pq8s:function(e,t){},qRjg:function(e,t){},rKh0:function(e,t){},yAjQ:function(e,t){},yNWv:function(e,t,n){e.exports=function(){return new Worker('./'+n.p+"896a7519e5c11a66b398.worker.js")}}},["NHnr"]);
//# sourceMappingURL=app.4cec145f8b4530f1cd53.js.map